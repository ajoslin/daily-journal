App.directive("contenteditable",function(){return{restrict:"A",require:"?ngModel",link:function(e,n,t,r){function i(){var e=n.html();t.stripBr&&"<br>"==e&&(e=""),r.$setViewValue(e)}r&&(r.$render=function(){n.html(r.$viewValue||"")},setTimeout(r.$render),n.on("blur keyup change",function(){e.$apply(i)}))}}});